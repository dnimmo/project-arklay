<!DOCTYPE html>
<html data-ng-app='projectArklay' 
      data-ng-cloak 
      xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:svg="http://www.w3.org/2000/svg">
  <head>
    <title>Project Arklay</title>
    <meta name='viewport' 
          content='width=device-width, initial-scale=1'/>
    <meta name="mobile-web-app-capable" 
          content="yes">
    <meta name="apple-mobile-web-app-capable" 
          content="yes">
    <meta name='theme-color' 
          content='#323232'/>
    <meta name='description' 
          content='An old-school text adventure game that you can play in your browser'>
    <link rel='author' 
          href='https://plus.google.com/+DavidNimmo/posts'/>
    <link href='http://fonts.googleapis.com/css?family=PT+Serif' 
          rel='stylesheet' 
          type='text/css'>
    <link rel='stylesheet' 
          href='assets/style/main.css'/>    
  </head>
  <body data-ng-controller='MainCtrl'>
    <main data-ui-view data-ng-keyup='handleKeyboard($event)' tabindex="0" autofocus="true">
    </main>
    <!-- Inventory start -->
      <div class='inventory-toggle' data-ng-click='inventory.toggleOpen()'  data-ng-show='inventory.usableItems.length !== 0' >
        <svg class='inventory-icon' alt='Inventory'>
            <use xlink:href='/assets/images/defs.svg#inventory'></use>
        </svg>
      <span class='inventory-count' data-ng-show="!inventory.open">
        {{inventory.usableItems.length}}
      </span>
    </div>
    <section class='inventory' animate-hide data-ng-show='inventory.open'>
      <!--Put into separate partial-->
      <div class='inventory-contents'>
        <ul data-ng-if='!inventory.itemOptionsOpen'>
          <li class='button inv' data-ng-class='{"selected" : item === inventory.selectedItem}' data-ng-repeat='item in inventory.usableItems' data-ng-click='inventory.selectItem(item)'>
            <svg class='item'>
              <use xlink:href='{{item.image}}'></use>
            </svg>
            <p>{{item.name}}</p>
          </li>
        </ul>
        <p class="button" data-ng-if='!inventory.itemOptionsOpen' data-ng-click='inventory.toggleOpen()'>Close Inventory</p>
        <p>{{inventory.selectedItem.description}}</p>
        <ul class='itemOptions' data-ng-if='inventory.itemOptionsOpen'>
          <li class='button' data-ng-click='inventory.selectedItem.checkIfUsableInCurrentRoom(current, inventory)'>Use</li>
          <li class='button' data-ng-click='inventory.clearSelectedItem()'>Cancel</li>
        </ul>
        <p class="additional-info extra-message" data-ng-show='inventory.message && inventory.message != ""'>{{inventory.message}}</p>
      </div>
    </section>
    <!-- Inventory end -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
    <script src="http://angular-ui.github.io/ui-router/release/angular-ui-router.min.js"></script>
    <script src="assets/scripts/arklay.min.js"></script>
    <script src="assets/scripts/bundle.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-66173218-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
